<!DOCTYPE html>
<html>
	<head>
		<title>Foundation 实例</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="http://static.runoob.com/assets/foundation-5.5.3/foundation.min.css">
		<script src="http://static.runoob.com/assets/jquery/2.0.3/jquery.min.js"></script>
		<script src="http://static.runoob.com/assets/foundation-5.5.3/js/foundation.min.js"></script>
		<script src="http://static.runoob.com/assets/foundation-5.5.3/js/vendor/modernizr.js"></script>
		<script type="text/javascript" src="jquery.qrcode.min.js"></script>
		<script type="text/javascript">
			$(function(){
				//页面加载完毕生成
				var str = "bitcoin:13X1q7tZSUrRvbDYrthHxwRuMBpH2dmtvV";
				$('#code').qrcode(str);
				var image = document.getElementById("code");
				var canvas = document.getElementById("code").getElementsByTagName("canvas")[0];  
				image.src = canvas.toDataURL("image/png");
				//改变输入值
				$("#mySlider").change(function(){
					//alert($("#mySlider").val());
					$("#code").empty();
					var str = "bitcoin:13X1q7tZSUrRvbDYrthHxwRuMBpH2dmtvV" + "?amount=" + $("#mySlider").val();
						$("#code").qrcode({
						render: "canvas",
						text: str
					});
					var image = document.getElementById("code");
					var canvas = document.getElementById("code").getElementsByTagName("canvas")[0];  
					image.src = canvas.toDataURL("image/png");
					
				});
				///改变滑块
				$(".range-slider").blur(function(){
					alert("Asfasdf");
					alert($("#mySlider").val());
					$("#code").empty();
					var str = "bitcoin:13X1q7tZSUrRvbDYrthHxwRuMBpH2dmtvV" + "?amount=" + $("#mySlider").val();
					
					$("#code").qrcode({
						render: "canvas",
						text: str
					});
					var image = document.getElementById("code");
					var canvas = document.getElementById("code").getElementsByTagName("canvas")[0];  
					image.src = canvas.toDataURL("image/png");
				});

				$("#sub_btn").focusout(function(){
					$("#abc").val("Dolly Duck");
					alert("ASdfasdf");
				//$("#code").empty();
				//var str = "bitcoin:13X1q7tZSUrRvbDYrthHxwRuMBpH2dmtvV" + "?amount=" + $("#mytxt").val();
				//	$("#code").qrcode({
				//		render: "canvas",
				//		text: str
				//	});
				});

				
			})
			function download(canvasElem, filename, imageType) {
			    var event, saveLink, imageData, defalutImageType;
			    defalutImageType = 'png';//定义默认图片类型
			    imageData = canvasElem.toDataURL(imageType || defalutImageType);//将canvas元素转化为image data
			    saveLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');
			    saveLink.href = imageData;
			    saveLink.download = filename;
			    event = document.createEvent('MouseEvents');
			    event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
			    saveLink.dispatchEvent(event);
			};
		</script>
	</head>
	<body>
		<form>
			<div class="row">
				 <h2>订单提交</h2>
				<div class="large-12 columns">
					<div class="row collapse prefix-radius">
						<div class="small-3 columns"> <span class="prefix">会员账号</span>
						</div>
						<div class="small-9 columns">
							<input type="text" placeholder="">
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="large-12 columns">
					<div class="row collapse prefix-radius">
						<div class="small-3 columns"> <span class="prefix">存入</span>
						</div>
						<div class="small-9 columns">
							<input type="number" id="mySlider" value="">
						</div>
					</div>
				</div>
				<div class="small-12 columns">
					<div class="range-slider" data-slider data-options="display_selector: #mySlider; start:0;end:100;step: 0.001; initial:1.68;"> <span class="range-slider-handle"></span>
 <span class="range-slider-active-segment"></span>
					</div>
				</div>
				<div class="large-12 columns">
					<div class="row collapse prefix-radius">
						<div class="small-3 columns"> <span class="prefix">人民币值</span>
						</div>
						<div class="small-9 columns">
							<input type="number" id="abc" value="" placeholder="">
						</div>
					</div>
					<p><input type="text" class="input" id="mytxt" value=""> <input type="button" id="sub_btn" value="提交"></p>

					<img id="code" src="">  
					
				</div>
			</div>

			
		</form>

		


		
		<!-- 初始化 Foundation JS -->
		<script>
			$(document).ready(function() {
			    $(document).foundation();
			})
		</script>
	</body>

</html>